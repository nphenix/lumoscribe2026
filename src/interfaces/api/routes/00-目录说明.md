# interfaces/api/routes 目录说明

> API 路由拆分目录。
>
> 最后更新：2026-01-25

## 文件列表

| 文件 | 用途 | 更新日期 |
|------|------|----------|
| `__init__.py` | routes 包初始化（无副作用：不自动导入路由，支持 kb_* 独立部署） | 2026-01-21 |
| `health.py` | 健康检查接口 | 2026-01-16 |
| `jobs.py` | 任务接口（创建/查询） | 2026-01-16 |
| `sources.py` | 源文件接口（SourceFile CRUD） | 2026-01-16 |
| `templates.py` | 模板接口（Template CRUD） | 2026-01-16 |
| `intermediates.py` | 中间产物接口（IntermediateArtifact CRUD） | 2026-01-16 |
| `targets.py` | 目标文件接口（TargetFile CRUD） | 2026-01-16 |
| `llm.py` | LLM 配置接口（Provider/Model/Capability） | 2026-01-16 |
| `prompts.py` | 提示词接口（Prompt CRUD） | 2026-01-16 |
| `kb.py` | 知识库接口：建库/管理（kb_admin）与查询（kb_query，hybrid+rerank）T095 | 2026-01-21 |
| `ingest.py` | 文档摄入接口（Trigger/Jobs/Progress）T036-T037 | 2026-01-23 |
| `chart_json.py` | 图转 JSON 接口（Trigger/Jobs）T094 | 2026-01-25 |

## 更新日志

| 日期 | 操作 | 文件 | 说明 |
|------|------|------|------|
| 2026-01-25 | 新增 | `chart_json.py` | 添加图转 JSON 触发/任务查询接口（支持前端空请求体触发）T094 |
| 2026-01-23 | 新增 | `ingest.py` | 添加文档摄入接口（Trigger/Jobs/Progress）T036-T037 |
| 2026-01-21 | 新增 | `kb.py` | 新增知识库建库/查询路由（支持 kb_admin/kb_query 独立部署） |
| 2026-01-21 | 修改 | `__init__.py` | 改为无副作用初始化，避免 kb_* 模式导入上传路由导致 multipart 依赖失败 |
| 2026-01-16 | 新增 | `sources.py` | 添加源文件 CRUD 接口 |
| 2026-01-16 | 新增 | `templates.py` | 添加模板 CRUD 接口 |
| 2026-01-16 | 新增 | `intermediates.py` | 添加中间产物 CRUD 接口 |
| 2026-01-16 | 新增 | `targets.py` | 添加目标文件 CRUD 接口 |
| 2026-01-16 | 新增 | `health.py` | 添加健康检查接口 |
| 2026-01-16 | 新增 | `jobs.py` | 添加任务接口 |
| 2026-01-16 | 新增 | `__init__.py` | 初始化 routes 包 |
| 2026-01-16 | 新增 | `llm.py` | 添加 LLM 配置接口 |
| 2026-01-16 | 新增 | `prompts.py` | 添加提示词接口 |
