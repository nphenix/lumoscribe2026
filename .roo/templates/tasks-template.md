---
template: Tasks
version: 1.1.0
lastUpdated: 2026-01-12
charter: ../constitution.md
---

# 任务：[功能名称]

**输入**: 设计文档  
**先决条件**: plan.md（必需）、spec.md（必需）

---

## 任务标识

`[T-ID] [优先级] [并行标记] [用户故事] 文件路径 描述`

### 优先级

| 符号 | 含义 | 说明 |
|------|------|------|
| P0 | 阻塞 | 阻塞后续任务，必须优先完成 |
| P1 | 高 | 核心功能，高优先级 |
| P2 | 中 | 重要功能，常规优先级 |
| P3 | 低 | 增强功能，可延后 |

### 并行标记

| 符号 | 含义 | 说明 |
|------|------|------|
| [P] | 可并行 | 不同文件，无依赖关系 |

### 用户故事标签

- `[US1]` - 关联用户故事 1
- `[US2]` - 关联用户故事 2
- `[US3]` - 关联用户故事 3

---

## 路径约定

- **单个项目**: `src/`、`tests/` 位于仓库根目录
- **Web应用**: `backend/src/`、`frontend/src/`
- **移动应用**: `api/src/`、`ios/src/` 或 `android/src/`

---

## 阶段1：设置（共享基础设施）

**目的**: 项目初始化和基本结构

- [ ] T001 [P0] 创建符合实施计划的项目结构
- [ ] T002 [P0] 使用 [框架] 依赖项初始化 [语言] 项目
- [ ] T003 [P1] [P] 配置 linting 和格式化工具

---

## 阶段2：基础（阻塞性先决条件）

**目的**: 必须在实施任何用户故事之前完成的核心基础设施

> **关键**: 在此阶段完成之前，无法开始任何用户故事的工作

- [ ] T004 [P0] 设置数据库模式和迁移框架
- [ ] T005 [P0] [P] 实现认证/授权框架
- [ ] T006 [P0] [P] 设置 API 路由和中间件结构
- [ ] T007 [P0] 创建所有故事依赖的基础模型/实体
- [ ] T008 [P0] 配置错误处理和日志记录基础设施
- [ ] T009 [P1] 设置环境配置管理

**检查点**: 基础设施就绪 - 现在可以并行开始用户故事实施

---

## US1：[标题]（P1）🎯 MVP

**目标**: [简要描述此故事交付的内容]

**独立测试**: [如何独立验证此故事]

### 测试

> **注意**: 首先编写这些测试，确保它们在实施前失败

- [ ] T010 [P1] [P] [US1] 在 `tests/contract/test_[name].py` 中编写契约测试
- [ ] T011 [P1] [P] [US1] 在 `tests/integration/test_[name].py` 中编写集成测试

### 实施

- [ ] T012 [P1] [P] [US1] 在 `src/models/[entity1].py` 中创建 [Entity1] 模型
- [ ] T013 [P1] [P] [US1] 在 `src/models/[entity2].py` 中创建 [Entity2] 模型
- [ ] T014 [P1] [US1] 在 `src/services/[service].py` 中实现 [Service]
- [ ] T015 [P1] [US1] 在 `src/[location]/[file].py` 中实现 [端点/功能]
- [ ] T016 [P1] [US1] 添加验证和错误处理
- [ ] T017 [P1] [US1] 添加日志记录

**检查点**: US1 应完全可用并可独立测试

---

## US2：[标题]（P2）

**目标**: [简要描述此故事交付的内容]

**独立测试**: [如何独立验证此故事]

### 测试

- [ ] T018 [P2] [P] [US2] 在 `tests/contract/test_[name].py` 中编写契约测试
- [ ] T019 [P2] [P] [US2] 在 `tests/integration/test_[name].py` 中编写集成测试

### 实施

- [ ] T020 [P2] [P] [US2] 在 `src/models/[entity].py` 中创建 [Entity] 模型
- [ ] T021 [P2] [US2] 在 `src/services/[service].py` 中实现 [Service]
- [ ] T022 [P2] [US2] 在 `src/[location]/[file].py` 中实现 [端点/功能]
- [ ] T023 [P2] [US2] 与 US1 组件集成（如需要）

**检查点**: US1 和 US2 都应独立工作

---

## US3：[标题]（P3）

**目标**: [简要描述此故事交付的内容]

**独立测试**: [如何独立验证此故事]

### 测试

- [ ] T024 [P3] [P] [US3] 在 `tests/contract/test_[name].py` 中编写契约测试
- [ ] T025 [P3] [P] [US3] 在 `tests/integration/test_[name].py` 中编写集成测试

### 实施

- [ ] T026 [P3] [P] [US3] 在 `src/models/[entity].py` 中创建 [Entity] 模型
- [ ] T027 [P3] [US3] 在 `src/services/[service].py` 中实现 [Service]
- [ ] T028 [P3] [US3] 在 `src/[location]/[file].py` 中实现 [端点/功能]

**检查点**: 所有用户故事现在都应独立可用

---

## 阶段N：完善与横切关注点

**目的**: 影响多个用户故事的改进

- [ ] TXXX [P2] 更新 `speckit/docs/` 中的文档
- [ ] TXXX [P3] 代码清理和重构
- [ ] TXXX [P3] 所有故事的性能优化
- [ ] TXXX [P3] [P] 额外的单元测试（如要求）在 `tests/unit/` 中
- [ ] TXXX [P2] 安全加固
- [ ] TXXX [P2] 运行 `quickstart.md` 验证

---

## 依赖关系与执行顺序

### 阶段依赖

| 阶段 | 依赖 | 说明 |
|------|------|------|
| 阶段1：设置 | 无 | 可立即开始 |
| 阶段2：基础 | 设置完成 | 阻塞所有用户故事 |
| US1/US2/US3 | 基础完成 | 可并行进行 |
| 阶段N：完善 | 所有故事完成 | 最后执行 |

### 并行机会

- 所有标记为 **[P]** 的任务可并行运行
- 基础完成后，所有用户故事可并行开始
- 不同用户故事可由不同团队成员并行工作

---

**版本**: 1.1.0 | **创建**: [YYYY-MM-DD]
